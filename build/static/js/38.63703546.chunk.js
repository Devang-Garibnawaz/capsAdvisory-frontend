"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[38],{3038:(e,a,r)=>{r.r(a),r.d(a,{default:()=>S});var o=r(18599),t=r(16543),n=r(49801),i=r(47375),l=r(97851),s=r(64312),d=r(34552),c=r(80739),m=r(63274),u=r(69175),p=r(43613),f=r(90637),h=r(63516),v=r(95957),g=r(73033),A=r(65043),b=r(35975);function y(){const[e,a]=(0,A.useState)(!1),[r,o]=(0,A.useState)(null);return{isUpdating:e,updateProfileInfo:async e=>{try{a(!0);const r=await(async e=>{const{data:a}=await b.A.put("/api/profile-info",e);return a})(e);return o(r),r}finally{a(!1)}},profileInfo:r}}var x=r(34562);function N(){const[e,a]=(0,A.useState)(null),[r,o]=(0,A.useState)(!1),[t,n]=(0,A.useState)(null);return(0,A.useEffect)((()=>{(async()=>{o(!0),n(null);try{const e=await(async()=>{const{data:e}=await b.A.get("/api/profile-info");return e})();a(e)}catch(e){n(e)}finally{o(!1)}})()}),[]),{profileInfo:e,isLoading:r,error:t}}var j=r(70579);const C=[{label:"profile.info.form.gender.options.f",value:"F"},{label:"profile.info.form.gender.options.m",value:"M"},{label:"profile.info.form.gender.options.n",value:"NC"}],S=()=>{const e=(0,x.dh)(),{t:a}=(0,v.B)(),{profileInfo:r}=N(),{isUpdating:A,updateProfileInfo:b}=y(),S=(0,h.Wx)({initialValues:{email:r?r.email:"",firstName:r?r.firstName:"",gender:r?r.gender:void 0,job:r?r.job:"",lastName:r?r.lastName:""},validationSchema:g.Ik({email:g.Yj().email(a("common.validations.email")).required(a("common.validations.required")),firstName:g.Yj().max(20,a("common.validations.max",{size:20})).required(a("common.validations.required")),lastName:g.Yj().max(30,a("common.validations.max",{size:30})).required(a("common.validations.required"))}),onSubmit:e=>P(e)}),P=async o=>{b({...o,id:null===r||void 0===r?void 0:r.id}).then((()=>{e.success(a("profile.notifications.informationUpdated"))})).catch((()=>{e.error(a("common.errors.unexpected.subTitle"))}))};return(0,j.jsx)("form",{onSubmit:S.handleSubmit,noValidate:!0,children:(0,j.jsxs)(t.A,{children:[(0,j.jsx)(l.A,{title:a("profile.info.title")}),(0,j.jsxs)(i.A,{children:[(0,j.jsx)(p.A,{margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:a("profile.info.form.lastName.label"),name:"lastName",autoComplete:"family-name",autoFocus:!0,disabled:A,value:S.values.lastName,onChange:S.handleChange,error:S.touched.lastName&&Boolean(S.errors.lastName),helperText:S.touched.lastName&&S.errors.lastName}),(0,j.jsx)(p.A,{margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:a("profile.info.form.firstName.label"),name:"firstName",autoComplete:"given-name",disabled:A,value:S.values.firstName,onChange:S.handleChange,error:S.touched.firstName&&Boolean(S.errors.firstName),helperText:S.touched.firstName&&S.errors.firstName}),(0,j.jsxs)(s.A,{component:"fieldset",margin:"normal",children:[(0,j.jsx)(c.A,{component:"legend",children:a("profile.info.form.gender.label")}),(0,j.jsx)(u.A,{row:!0,"aria-label":"gender",name:"gender",value:S.values.gender,onChange:S.handleChange,children:C.map((e=>(0,j.jsx)(d.A,{value:e.value,control:(0,j.jsx)(m.A,{}),label:a(e.label)},e.value)))})]}),(0,j.jsx)(p.A,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:a("profile.info.form.email.label"),name:"email",autoComplete:"email",disabled:A,value:S.values.email,onChange:S.handleChange,error:S.touched.email&&Boolean(S.errors.email),helperText:S.touched.email&&S.errors.email})]}),(0,j.jsxs)(n.A,{children:[(0,j.jsx)(o.A,{onClick:()=>S.resetForm(),children:a("common.reset")}),(0,j.jsx)(f.A,{loading:A,type:"submit",variant:"contained",children:a("common.update")})]})]})})}},49801:(e,a,r)=>{r.d(a,{A:()=>f});var o=r(98587),t=r(58168),n=r(65043),i=r(43024),l=r(31970),s=r(69354),d=r(46141),c=r(96036);function m(e){return(0,c.A)("MuiCardActions",e)}(0,r(31748).A)("MuiCardActions",["root","spacing"]);var u=r(70579);const p=(0,s.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,a)=>{const{styleProps:r}=e;return(0,t.A)({},a.root,!r.disableSpacing&&a.spacing)}})((e=>{let{styleProps:a}=e;return(0,t.A)({display:"flex",alignItems:"center",padding:8},!a.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),f=n.forwardRef((function(e,a){const r=(0,d.A)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:s}=r,c=(0,o.A)(r,["disableSpacing","className"]),f=(0,t.A)({},r,{disableSpacing:n}),h=(e=>{const{classes:a,disableSpacing:r}=e,o={root:["root",!r&&"spacing"]};return(0,l.A)(o,m,a)})(f);return(0,u.jsx)(p,(0,t.A)({className:(0,i.A)(h.root,s),styleProps:f,ref:a},c))}))},97851:(e,a,r)=>{r.d(a,{A:()=>b});var o=r(98587),t=r(58168),n=r(65043),i=r(43024),l=r(31970),s=r(56172),d=r(46141),c=r(69354),m=r(96036);function u(e){return(0,m.A)("MuiCardHeader",e)}const p=(0,r(31748).A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var f=r(70579);const h=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,a)=>(0,t.A)({[`& .${p.title}`]:a.title,[`& .${p.subheader}`]:a.subheader},a.root)})({display:"flex",alignItems:"center",padding:16}),v=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,a)=>a.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),g=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,a)=>a.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),A=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,a)=>a.content})({flex:"1 1 auto"}),b=n.forwardRef((function(e,a){const r=(0,d.A)({props:e,name:"MuiCardHeader"}),{action:n,avatar:c,className:m,component:p="div",disableTypography:b=!1,subheader:y,subheaderTypographyProps:x,title:N,titleTypographyProps:j}=r,C=(0,o.A)(r,["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),S=(0,t.A)({},r,{component:p,disableTypography:b}),P=(e=>{const{classes:a}=e;return(0,l.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u,a)})(S);let M=N;null==M||M.type===s.A||b||(M=(0,f.jsx)(s.A,(0,t.A)({variant:c?"body2":"h5",className:P.title,component:"span",display:"block"},j,{children:M})));let T=y;return null==T||T.type===s.A||b||(T=(0,f.jsx)(s.A,(0,t.A)({variant:c?"body2":"body1",className:P.subheader,color:"text.secondary",component:"span",display:"block"},x,{children:T}))),(0,f.jsxs)(h,(0,t.A)({className:(0,i.A)(P.root,m),as:p,ref:a,styleProps:S},C,{children:[c&&(0,f.jsx)(v,{className:P.avatar,styleProps:S,children:c}),(0,f.jsxs)(A,{className:P.content,styleProps:S,children:[M,T]}),n&&(0,f.jsx)(g,{className:P.action,styleProps:S,children:n})]}))}))}}]);
//# sourceMappingURL=38.63703546.chunk.js.map