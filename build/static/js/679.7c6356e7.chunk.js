"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[679],{26679:(e,a,r)=>{r.r(a),r.d(a,{default:()=>A});var s=r(16543),o=r(49801),n=r(47375),t=r(97851),d=r(43613),i=r(90637),l=r(63516),c=r(95957),p=r(73033),u=r(35975),m=r(82907);const w=async e=>{let{oldPassword:a,newPassword:r}=e;const{data:s}=await u.A.put("/api/password",{oldPassword:a,newPassword:r});return s};function h(){const{isLoading:e,mutateAsync:a}=(0,m.useMutation)(w);return{isUpdating:e,updatePassword:a}}var f=r(34562),P=r(70579);const A=()=>{const e=(0,f.dh)(),{t:a}=(0,c.B)(),{isUpdating:r,updatePassword:u}=h(),m=(0,l.Wx)({initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:p.Ik({oldPassword:p.Yj().min(8,a("common.validations.min",{size:8})).required(a("common.validations.required")),newPassword:p.Yj().min(8,a("common.validations.min",{size:8})).required(a("common.validations.required")),confirmPassword:p.Yj().oneOf([p.KR("newPassword")],a("common.validations.passwordMatch")).required(a("common.validations.required"))}),onSubmit:e=>w(e.oldPassword,e.newPassword)}),w=async(r,s)=>{u({oldPassword:r,newPassword:s}).then((()=>{m.resetForm(),e.success(a("profile.notifications.passwordChanged"))})).catch((()=>{e.error(a("common.errors.unexpected.subTitle"))}))};return(0,P.jsx)("form",{onSubmit:m.handleSubmit,noValidate:!0,children:(0,P.jsxs)(s.A,{children:[(0,P.jsx)(t.A,{title:a("profile.password.title")}),(0,P.jsxs)(n.A,{children:[(0,P.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,name:"oldPassword",label:a("profile.password.form.current.label"),type:"password",id:"oldPassword",autoComplete:"current-password",disabled:r,value:m.values.oldPassword,onChange:m.handleChange,error:m.touched.oldPassword&&Boolean(m.errors.oldPassword),helperText:m.touched.oldPassword&&m.errors.oldPassword}),(0,P.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:a("profile.password.form.new.label"),type:"password",id:"newPassword",disabled:r,value:m.values.newPassword,onChange:m.handleChange,error:m.touched.newPassword&&Boolean(m.errors.newPassword),helperText:m.touched.newPassword&&m.errors.newPassword}),(0,P.jsx)(d.A,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:a("profile.password.form.confirm.label"),type:"password",id:"confirmPassword",disabled:r,value:m.values.confirmPassword,onChange:m.handleChange,error:m.touched.confirmPassword&&Boolean(m.errors.confirmPassword),helperText:m.touched.confirmPassword&&m.errors.confirmPassword})]}),(0,P.jsx)(o.A,{children:(0,P.jsx)(i.A,{type:"submit",loading:r,variant:"contained",children:a("common.update")})})]})})}},49801:(e,a,r)=>{r.d(a,{A:()=>w});var s=r(98587),o=r(58168),n=r(65043),t=r(43024),d=r(31970),i=r(69354),l=r(46141),c=r(96036);function p(e){return(0,c.A)("MuiCardActions",e)}(0,r(31748).A)("MuiCardActions",["root","spacing"]);var u=r(70579);const m=(0,i.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,a)=>{const{styleProps:r}=e;return(0,o.A)({},a.root,!r.disableSpacing&&a.spacing)}})((e=>{let{styleProps:a}=e;return(0,o.A)({display:"flex",alignItems:"center",padding:8},!a.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),w=n.forwardRef((function(e,a){const r=(0,l.A)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:i}=r,c=(0,s.A)(r,["disableSpacing","className"]),w=(0,o.A)({},r,{disableSpacing:n}),h=(e=>{const{classes:a,disableSpacing:r}=e,s={root:["root",!r&&"spacing"]};return(0,d.A)(s,p,a)})(w);return(0,u.jsx)(m,(0,o.A)({className:(0,t.A)(h.root,i),styleProps:w,ref:a},c))}))},97851:(e,a,r)=>{r.d(a,{A:()=>v});var s=r(98587),o=r(58168),n=r(65043),t=r(43024),d=r(31970),i=r(56172),l=r(46141),c=r(69354),p=r(96036);function u(e){return(0,p.A)("MuiCardHeader",e)}const m=(0,r(31748).A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var w=r(70579);const h=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,a)=>(0,o.A)({[`& .${m.title}`]:a.title,[`& .${m.subheader}`]:a.subheader},a.root)})({display:"flex",alignItems:"center",padding:16}),f=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,a)=>a.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),P=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,a)=>a.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),A=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,a)=>a.content})({flex:"1 1 auto"}),v=n.forwardRef((function(e,a){const r=(0,l.A)({props:e,name:"MuiCardHeader"}),{action:n,avatar:c,className:p,component:m="div",disableTypography:v=!1,subheader:y,subheaderTypographyProps:g,title:b,titleTypographyProps:x}=r,C=(0,s.A)(r,["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),j=(0,o.A)({},r,{component:m,disableTypography:v}),M=(e=>{const{classes:a}=e;return(0,d.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u,a)})(j);let R=b;null==R||R.type===i.A||v||(R=(0,w.jsx)(i.A,(0,o.A)({variant:c?"body2":"h5",className:M.title,component:"span",display:"block"},x,{children:R})));let T=y;return null==T||T.type===i.A||v||(T=(0,w.jsx)(i.A,(0,o.A)({variant:c?"body2":"body1",className:M.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:T}))),(0,w.jsxs)(h,(0,o.A)({className:(0,t.A)(M.root,p),as:m,ref:a,styleProps:j},C,{children:[c&&(0,w.jsx)(f,{className:M.avatar,styleProps:j,children:c}),(0,w.jsxs)(A,{className:M.content,styleProps:j,children:[R,T]}),n&&(0,w.jsx)(P,{className:M.action,styleProps:j,children:n})]}))}))}}]);
//# sourceMappingURL=679.7c6356e7.chunk.js.map