"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[461],{21114:(e,t,a)=>{a.d(t,{Fc:()=>c,GE:()=>l,S5:()=>s,cl:()=>d});const n=(0,a(51425).$)(),r="orders/getSymbolToken",i="orders/getOptionChainData",o="orders/getPrevData";async function d(){try{const e=await fetch(`${n}${r}`);return(await e.json()).data}catch(e){throw console.log("Error fetching data:",e),new Error("Failed to fetch data")}}async function s(){try{var e,t,a,r;const o=await fetch(`${n}${i}?symbol=BANKNIFTY&index=NFO`),d=await o.json();return[...null===(e=d.data)||void 0===e||null===(t=e.expiryDates)||void 0===t?void 0:t.monthEnd,...null===(a=d.data)||void 0===a||null===(r=a.expiryDates)||void 0===r?void 0:r.week]}catch(o){throw console.log("Error fetching data:",o),new Error("Failed to fetch data")}}async function l(e,t,a,r){const i=`?fromDate=${e}&toDate=${t}&interval=${a}&symbolToken=${r}`;try{const e=await fetch(`${n}${o}${i}`);return(await e.json()).data}catch(d){throw console.log("Error fetching data:",d),new Error("Failed to fetch data")}}const c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{let a=[];const r="?date=";let i=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();const o=await fetch(`${n}orders${r}${i}`),d=await o.json();return""!=t?d.orderData.filter((e=>{var n;null!==(n=e.symbol)&&void 0!==n&&n.toUpperCase().includes(t.toUpperCase())&&a.push(e)})):a=d.orderData,a}catch(a){throw console.log("Error fetching data:",a),new Error("Failed to fetch data")}}},47461:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(65043),r=a(76472),i=a(81683),o=a(68903),d=a(17392),s=a(81637),l=a(15795),c=a(12110),h=a(79958),g=a(26494),p=a(78185),x=a(54833),u=a(96094),m=a(39155),w=a(86064),f=a(13117),y=a(27273),v=a(48251),j=a(40632),A=a(70579);const D=e=>{let{ordersData:t=[],columns:a=[]}=e;const[r,i]=n.useState(20);if(0===t.length)return(0,A.jsx)(x.A,{title:"No Data Found"});return(0,A.jsx)(j.A,{sx:{height:"580px",width:"100%","& .super-app-theme--cell":{backgroundColor:"rgba(224, 183, 60, 0.55)",color:"#1a3e72",fontWeight:"600"},"& .super-app.negative":{color:"#f35631",fontWeight:"600"},"& .super-app.positive":{color:"#10b983",fontWeight:"600"}},children:(0,A.jsx)(v.z,{rows:t,disableColumnSelector:!0,columns:a,isRowSelectable:e=>e._id,components:{Toolbar:function(){return(0,A.jsxs)(u.b,{sx:{padding:"1px"},children:[(0,A.jsx)(m.j,{sx:{padding:"14px"},onResize:void 0,nonce:void 0,onResizeCapture:void 0}),(0,A.jsx)(w.Q,{sx:{padding:"14px"},onResize:void 0,nonce:void 0,onResizeCapture:void 0}),(0,A.jsx)(f.z,{sx:{padding:"14px"},onResize:void 0,nonce:void 0,onResizeCapture:void 0}),(0,A.jsx)(y.qn,{sx:{padding:"14px"}})]})}},density:"compact",pageSize:r,onPageSizeChange:e=>i(e),getRowId:e=>e._id,rowsPerPageOptions:[5,10,20,100]})})};var b=a(11504),$=a(90637),F=a(71948),T=a(73876),C=a(21114),E=a(34562),N=a(48625);const S=()=>{const e=[{field:"symbol",headerName:"Symbol",width:250,align:"left"},{field:"orderType",headerName:"Order Type",width:130,headerAlign:"center",align:"center"},{field:"interval",headerName:"Interval",width:130,headerAlign:"center",align:"center"},{field:"entryPrice",headerName:"Entry Price",headerAlign:"center",type:"number",align:"center",width:130},{field:"stopLoss",headerName:"Stop Loss",headerAlign:"center",type:"number",align:"center",width:130},{field:"target",headerName:"Target",headerAlign:"center",type:"number",align:"center",width:130},{field:"quantity",headerName:"Quantity",headerAlign:"center",type:"number",align:"center",width:130,valueGetter:e=>e.row.quantity>0?e.row.quantity:"-"},{field:"date",headerName:"Entry Time",headerAlign:"center",width:110,align:"left",valueGetter:e=>{const t=new Date(e.row.date);let a=t.getHours(),n=t.getMinutes();var r=a>=12?"pm":"am";return a%=12,a=a||12,n=n<10?0+n:n,a+":"+(n<10?"0":"")+n+" "+r}},{field:"candleTime",headerName:"Exit Time",headerAlign:"center",width:110,align:"left",valueGetter:e=>{const t=new Date(e.row.candleTime);let a=t.getHours(),n=t.getMinutes();var r=a>=12?"pm":"am";return a%=12,a=a||12,n=n<10?0+n:n,a+":"+(n<10?"0":"")+n+" "+r}}],[t,a]=(0,n.useState)(new Date),[x,u]=(0,n.useState)(!1),[m,w]=(0,n.useState)(!1),[f,y]=(0,n.useState)(),v=(0,E.dh)();n.useEffect((()=>{(async()=>{try{u(!0),await j(),u(!1)}catch(e){u(!1),v.error(e.message)}})();const e=`${t.getDate()}-${t.getMonth()}-${t.getFullYear()}`,a=`${(new Date).getDate()}-${(new Date).getMonth()}-${(new Date).getFullYear()}`;w(e==a)}),[t]);const j=async()=>{const e=await(0,C.Fc)(t);y(e)},S=e=>{if("prev"===e){const e=new Date(t.getTime()-864e5);a(e)}else if("next"===e){const e=new Date(t.getTime()+864e5);a(e)}};return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(r.A,{children:(0,A.jsx)(i.A,{title:"Bank Orders"})}),(0,A.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,A.jsxs)(o.Ay,{item:!0,sm:6,children:[(0,A.jsx)(b.A,{label:"Date",onChange:e=>(e=>{a(e)})(e),inputFormat:"dd/MM/yyyy",disableFuture:!0,shouldDisableDate:e=>0===e.getDay()||6===e.getDay(),value:t,renderInput:e=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.A,{onClick:()=>S("prev"),"aria-label":"previous",style:{height:"fit-content",width:"fit-content",marginTop:"25px",marginRight:"2px",paddingRight:"0px",borderRadius:"10px"},children:x?(0,A.jsx)(s.A,{style:{height:"15px",width:"15px"}}):(0,A.jsx)(F.A,{style:{height:"15px",width:"15px"}})}),(0,A.jsx)(l.A,{...e,id:"date",margin:"normal",name:"start"}),(0,A.jsx)(d.A,{disabled:m,onClick:()=>S("next"),"aria-label":"next",style:{height:"fit-content",width:"fit-content",marginTop:"25px",marginLeft:"0px",paddingLeft:"4px",borderRadius:"10px"},children:x?(0,A.jsx)(s.A,{style:{height:"15px",width:"15px"}}):(0,A.jsx)(T.A,{style:{height:"15px",width:"15px"}})})]})}),(0,A.jsx)($.A,{sx:{marginLeft:"10px",marginTop:"15px",width:"fit-content"},loading:x,onClick:j,children:(0,A.jsx)(N.A,{})})]}),(0,A.jsx)(o.Ay,{item:!0,sm:12,sx:{paddingLeft:"20px !important"},children:(0,A.jsxs)(c.A,{variant:"outlined",sx:{padding:"20px"},children:[(0,A.jsx)(h.A,{title:"Orders Data",sx:{padding:"5px 24px 0 24px"}}),(0,A.jsx)(g.A,{sx:{padding:"10px !important"},children:x?(0,A.jsx)(p.A,{animation:"wave"}):(0,A.jsx)(D,{columns:e,ordersData:f})})]})})]})]})}}}]);
//# sourceMappingURL=461.60364ba8.chunk.js.map