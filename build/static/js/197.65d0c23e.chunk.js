"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[197],{59517:(e,r,a)=>{a.d(r,{A:()=>A});var t=a(87731),n=a(18863),l=a(23599),i=a(27494),o=a(48073),s=a(41835),d=a(53566),u=a(90066),c=a(65043),m=a(53730),h=a(68987),g=a(56763),p=a(48824),x=a(34562),j=a(86971),v=a(70579);const A=e=>{let{children:r}=e;const a=(0,s.A)(),[A,b]=(0,c.useState)(!1),{logout:f,userInfo:w}=(0,p.As)(),C=(0,x.dh)(),y=localStorage.getItem("authkey"),N=()=>{b(!A)};return(0,v.jsxs)(c.Fragment,{children:[(0,v.jsx)(i.A,{styles:{body:{backgroundColor:a.palette.background.paper}}}),(0,v.jsx)(t.A,{color:"transparent",position:"relative",children:(0,v.jsxs)(d.A,{children:[(0,v.jsx)(n.A,{sx:{flexGrow:1}}),""!=y&&(0,v.jsx)(o.A,{"aria-label":"logout",component:"span",onClick:()=>{f().then((()=>{j.C5})).catch((e=>C.error(e)))},children:(0,v.jsx)(g.A,{})}),(0,v.jsx)(o.A,{"aria-label":"settings",component:"span",onClick:N,children:(0,v.jsx)(u.A,{})})]})}),(0,v.jsx)(l.A,{component:"main",maxWidth:"xs",sx:{mt:6},children:(0,v.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,v.jsx)(m.A,{sx:{mb:2}}),r,(0,v.jsx)(n.A,{children:(0,v.jsx)(h.A,{onDrawerToggle:N,open:A})})]})})]})}},61197:(e,r,a)=>{a.r(r),a.d(r,{default:()=>b});var t=a(18863),n=a(18599),l=a(43613),i=a(56172),o=a(90637),s=a(63516),d=a(95957),u=a(86971),c=a(51318),m=a(73033),h=a(59517),g=a(34562),p=a(82907);const x=(0,a(51425).$)(),j=async e=>{e.role="user";const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return await(await fetch(`${x}users/register`,r)).json()};function v(){const{isLoading:e,mutateAsync:r}=(0,p.useMutation)(j);return{isRegistering:e,register:r}}var A=a(70579);const b=()=>{const e=(0,u.Zp)(),r=(0,g.dh)(),{t:a}=(0,d.B)(),{isRegistering:p,register:x}=v(),j=(0,s.Wx)({initialValues:{email:"",fullName:"",clientId:"",pinNumber:"",totpSecret:"",password:""},validationSchema:m.Ik({email:m.Yj().email("Invalid email address").required(a("common.validations.required")),fullName:m.Yj().max(20,a("common.validations.max",{size:20})).required(a("common.validations.required")),clientId:m.Yj().max(20,a("common.validations.max",{size:20})).required(a("common.validations.required")),pinNumber:m.Yj().max(20,a("common.validations.max",{size:20})).required(a("common.validations.required")),totpSecret:m.Yj().required(a("common.validations.required")),password:m.Yj().min(8,a("common.validations.min",{size:8})).required(a("common.validations.required"))}),onSubmit:e=>b(e)}),b=async t=>{x(t).then((t=>{null!==t&&void 0!==t&&t.status?(r.success(a("auth.register.notifications.success")),e("/")):r.error(t.message)})).catch((()=>{r.error(a("common.errors.unexpected.subTitle"))}))};return(0,A.jsxs)(h.A,{children:[(0,A.jsx)(i.A,{component:"h1",variant:"h5",children:a("auth.register.title")}),(0,A.jsxs)(t.A,{component:"form",marginTop:3,noValidate:!0,onSubmit:j.handleSubmit,children:[(0,A.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",name:"fullName",autoComplete:"given-name",disabled:p,value:j.values.fullName,onChange:j.handleChange,error:j.touched.fullName&&Boolean(j.errors.fullName),helperText:j.touched.fullName&&j.errors.fullName}),(0,A.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,id:"clientId",label:"Client Id",name:"clientId",autoComplete:"given-name",disabled:p,value:j.values.clientId,onChange:j.handleChange,error:j.touched.clientId&&Boolean(j.errors.clientId),helperText:j.touched.clientId&&j.errors.clientId}),(0,A.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,id:"pinNumber",label:"PIN",name:"pinNumber",type:"password",autoComplete:"pin-number",disabled:p,value:j.values.pinNumber,onChange:j.handleChange,error:j.touched.pinNumber&&Boolean(j.errors.pinNumber),helperText:j.touched.pinNumber&&j.errors.pinNumber}),(0,A.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,id:"totpSecret",label:"Totp Secret",name:"totpSecret",type:"text",disabled:p,value:j.values.totpSecret,onChange:j.handleChange,error:j.touched.totpSecret&&Boolean(j.errors.totpSecret),helperText:j.touched.totpSecret&&j.errors.totpSecret}),(0,A.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:a("auth.register.form.email.label"),name:"email",autoComplete:"email",disabled:p,value:j.values.email,onChange:j.handleChange,error:j.touched.email&&Boolean(j.errors.email),helperText:j.touched.email&&j.errors.email}),(0,A.jsx)(l.A,{margin:"normal",variant:"filled",required:!0,fullWidth:!0,name:"password",label:a("auth.login.form.password.label"),type:"password",id:"password",autoComplete:"current-password",disabled:p,value:j.values.password,onChange:j.handleChange,error:j.touched.password&&Boolean(j.errors.password),helperText:j.touched.password&&j.errors.password}),(0,A.jsx)(o.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:p,loading:p,sx:{mt:2},children:a("auth.register.submit")}),(0,A.jsx)(n.A,{component:c.N_,to:"/",color:"primary",fullWidth:!0,sx:{mt:2},children:a("auth.register.back")})]})]})}},68987:(e,r,a)=>{a.d(r,{A:()=>v});var t=a(18863),n=a(77504),l=a(64312),i=a(34552),o=a(48073),s=a(63274),d=a(69175),u=a(71306),c=a(4193),m=a(56172),h=a(83903),g=a(95957),p=a(81653),x=a(17771),j=a(70579);const v=e=>{let{onDrawerToggle:r,open:a}=e;const{changeCollapsed:v,changeDirection:A,changeMode:b,collapsed:f,direction:w,mode:C}=(0,x.t0)(),{i18n:y,t:N}=(0,g.B)();return(0,j.jsxs)(n.Ay,{anchor:"left",open:a,onClose:r,sx:{"& .MuiDrawer-paper":{width:p.Y}},variant:"temporary",children:[(0,j.jsxs)(t.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,j.jsx)(m.A,{variant:"h5",children:N("settings.drawer.title")}),(0,j.jsx)(o.A,{color:"inherit",onClick:r,edge:"end",children:(0,j.jsx)(h.A,{})})]}),(0,j.jsxs)(t.A,{sx:{pl:2,pr:2},children:[(0,j.jsx)(m.A,{gutterBottom:!0,id:"settings-language",marginTop:3,variant:"h6",children:N("settings.drawer.language.label")}),(0,j.jsx)(l.A,{children:(0,j.jsxs)(d.A,{"aria-label":"language",name:"language-radio-group",onChange:e=>{y.changeLanguage(e.target.value)},value:y.language,children:[(0,j.jsx)(i.A,{value:"en",control:(0,j.jsx)(s.A,{}),label:N("settings.drawer.language.options.en")}),(0,j.jsx)(i.A,{value:"fr",control:(0,j.jsx)(s.A,{}),label:N("settings.drawer.language.options.fr")})]})}),(0,j.jsx)(m.A,{gutterBottom:!0,id:"settings-mode",marginTop:3,variant:"h6",children:N("settings.drawer.mode.label")}),(0,j.jsxs)(c.A,{color:"primary",value:C,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{b(r)},children:[(0,j.jsx)(u.A,{value:"light",children:N("settings.drawer.mode.options.light")}),(0,j.jsx)(u.A,{value:"dark",children:N("settings.drawer.mode.options.dark")})]}),(0,j.jsx)(m.A,{gutterBottom:!0,id:"settings-mode",marginTop:3,variant:"h6",children:N("settings.drawer.direction.label")}),(0,j.jsxs)(c.A,{color:"primary",value:w,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{A(r)},children:[(0,j.jsx)(u.A,{value:"ltr",children:N("settings.drawer.direction.options.ltr")}),(0,j.jsx)(u.A,{value:"rtl",children:N("settings.drawer.direction.options.rtl")})]}),(0,j.jsx)(m.A,{gutterBottom:!0,id:"settings-sidebar",marginTop:3,variant:"h6",children:N("settings.drawer.sidebar.label")}),(0,j.jsxs)(c.A,{color:"primary",value:f,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{v(r)},children:[(0,j.jsx)(u.A,{value:!0,children:N("settings.drawer.sidebar.options.collapsed")}),(0,j.jsx)(u.A,{value:!1,children:N("settings.drawer.sidebar.options.full")})]})]})]})}}}]);
//# sourceMappingURL=197.65d0c23e.chunk.js.map