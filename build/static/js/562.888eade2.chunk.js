"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[562],{87562:function(r,e,o){o.r(e),o.d(e,{default:function(){return g}});var s=o(27166),a=o(33032),n=o(46087),i=o(52697),d=o(51233),t=o(11579),l=o(35924),c=o(24628),u=o(55705),w=o(56328),p=o(10030),m=o(82388),f=o(91933),P=function(){var r=(0,a.Z)((0,s.Z)().mark((function r(e){var o,a,n,i;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.oldPassword,a=e.newPassword,r.next=3,m.Z.put("/api/password",{oldPassword:o,newPassword:a});case 3:return n=r.sent,i=n.data,r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();function h(){var r=(0,f.useMutation)(P);return{isUpdating:r.isLoading,updatePassword:r.mutateAsync}}var v=o(61028),Z=o(80184),g=function(){var r=(0,v.Ds)(),e=(0,w.$)().t,o=h(),m=o.isUpdating,f=o.updatePassword,P=(0,u.TA)({initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:p.Ry({oldPassword:p.Z_().min(8,e("common.validations.min",{size:8})).required(e("common.validations.required")),newPassword:p.Z_().min(8,e("common.validations.min",{size:8})).required(e("common.validations.required")),confirmPassword:p.Z_().oneOf([p.iH("newPassword")],e("common.validations.passwordMatch")).required(e("common.validations.required"))}),onSubmit:function(r){return g(r.oldPassword,r.newPassword)}}),g=function(){var o=(0,a.Z)((0,s.Z)().mark((function o(a,n){return(0,s.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:f({oldPassword:a,newPassword:n}).then((function(){P.resetForm(),r.success(e("profile.notifications.passwordChanged"))})).catch((function(){r.error(e("common.errors.unexpected.subTitle"))}));case 1:case"end":return o.stop()}}),o)})));return function(r,e){return o.apply(this,arguments)}}();return(0,Z.jsx)("form",{onSubmit:P.handleSubmit,noValidate:!0,children:(0,Z.jsxs)(n.Z,{children:[(0,Z.jsx)(t.Z,{title:e("profile.password.title")}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"oldPassword",label:e("profile.password.form.current.label"),type:"password",id:"oldPassword",autoComplete:"current-password",disabled:m,value:P.values.oldPassword,onChange:P.handleChange,error:P.touched.oldPassword&&Boolean(P.errors.oldPassword),helperText:P.touched.oldPassword&&P.errors.oldPassword}),(0,Z.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:e("profile.password.form.new.label"),type:"password",id:"newPassword",disabled:m,value:P.values.newPassword,onChange:P.handleChange,error:P.touched.newPassword&&Boolean(P.errors.newPassword),helperText:P.touched.newPassword&&P.errors.newPassword}),(0,Z.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:e("profile.password.form.confirm.label"),type:"password",id:"confirmPassword",disabled:m,value:P.values.confirmPassword,onChange:P.handleChange,error:P.touched.confirmPassword&&Boolean(P.errors.confirmPassword),helperText:P.touched.confirmPassword&&P.errors.confirmPassword})]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(c.Z,{type:"submit",loading:m,variant:"contained",children:e("common.update")})})]})})}},52697:function(r,e,o){o.d(e,{Z:function(){return m}});var s=o(63366),a=o(87462),n=o(72791),i=o(28182),d=o(80163),t=o(67538),l=o(8186),c=o(34923);function u(r){return(0,c.Z)("MuiCardActions",r)}(0,o(50782).Z)("MuiCardActions",["root","spacing"]);var w=o(80184),p=(0,t.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(r,e){var o=r.styleProps;return(0,a.Z)({},e.root,!o.disableSpacing&&e.spacing)}})((function(r){var e=r.styleProps;return(0,a.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),m=n.forwardRef((function(r,e){var o=(0,l.Z)({props:r,name:"MuiCardActions"}),n=o.disableSpacing,t=void 0!==n&&n,c=o.className,m=(0,s.Z)(o,["disableSpacing","className"]),f=(0,a.Z)({},o,{disableSpacing:t}),P=function(r){var e=r.classes,o={root:["root",!r.disableSpacing&&"spacing"]};return(0,d.Z)(o,u,e)}(f);return(0,w.jsx)(p,(0,a.Z)({className:(0,i.Z)(P.root,c),styleProps:f,ref:e},m))}))}}]);
//# sourceMappingURL=562.888eade2.chunk.js.map