"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[131],{69131:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(18489),o=t(27166),i=t(33032),a=t(50678),s=t(89426),c=t(35924),u=t(39846),l=t(46087),d=t(51233),p=t(73478),x=t(72791),f=t(37298),g=t(22446),h=t(57482),m=(0,t(8086).S)(),Z=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n,t,r){var i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),e.next=4,fetch("".concat(m).concat("logs","?date=").concat(a,"&perPage=").concat(r,"&page=").concat(t));case 4:return e.next=6,e.sent.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),v=t(36272),b=t(24628),y=t(34265),w=t(22501),j=t(89e3),C=t(69845),S=t(91330),D=t(71350),k=t(29733),M=t(61028),R=t(31303),z=t(36222),F=t(63366),L=t(87462),A=t(28182),N=t(94419),P=t(14036),T=t(47630),W=t(61046),G=t(23031),V=t(42071),_=t(20890),B=t(75878),H=t(21217);function I(e){return(0,H.Z)("MuiLink",e)}var O=(0,B.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),q=t(18529),E=t(12065),Y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},J=function(e){var n=e.theme,t=e.ownerState,r=function(e){return Y[e]||e}(t.color),o=(0,q.DW)(n,"palette.".concat(r),!1)||t.color,i=(0,q.DW)(n,"palette.".concat(r,"Channel"));return"vars"in n&&i?"rgba(".concat(i," / 0.4)"):(0,E.Fq)(o,.4)},K=t(80184),Q=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],U=(0,T.ZP)(_.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,P.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState;return(0,L.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,L.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:J({theme:n,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&(0,z.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(O.focusVisible),{outline:"auto"}))})),X=x.forwardRef((function(e,n){var t=(0,W.Z)({props:e,name:"MuiLink"}),r=t.className,o=t.color,i=void 0===o?"primary":o,s=t.component,c=void 0===s?"a":s,u=t.onBlur,l=t.onFocus,d=t.TypographyClasses,p=t.underline,f=void 0===p?"always":p,g=t.variant,h=void 0===g?"inherit":g,m=t.sx,Z=(0,F.Z)(t,Q),v=(0,G.Z)(),b=v.isFocusVisibleRef,y=v.onBlur,w=v.onFocus,j=v.ref,C=x.useState(!1),S=(0,a.Z)(C,2),D=S[0],k=S[1],M=(0,V.Z)(n,j),z=(0,L.Z)({},t,{color:i,component:c,focusVisible:D,underline:f,variant:h}),T=function(e){var n=e.classes,t=e.component,r=e.focusVisible,o=e.underline,i={root:["root","underline".concat((0,P.Z)(o)),"button"===t&&"button",r&&"focusVisible"]};return(0,N.Z)(i,I,n)}(z);return(0,K.jsx)(U,(0,L.Z)({color:i,className:(0,A.Z)(T.root,r),classes:d,component:c,onBlur:function(e){y(e),!1===b.current&&k(!1),u&&u(e)},onFocus:function(e){w(e),!0===b.current&&k(!0),l&&l(e)},ref:M,ownerState:z,variant:h,sx:[].concat((0,R.Z)(Object.keys(Y).includes(i)?[]:[{color:i}]),(0,R.Z)(Array.isArray(m)?m:[m]))},Z))})),$=t(43950),ee=function(){var e=(0,x.useState)(new Date),n=(0,a.Z)(e,2),t=n[0],m=n[1],R=(0,x.useState)(1),z=(0,a.Z)(R,2),F=z[0],L=z[1],A=(0,x.useState)(50),N=(0,a.Z)(A,2),P=N[0],T=N[1],W=(0,x.useState)(0),G=(0,a.Z)(W,2),V=G[0],_=G[1],B=(0,x.useState)([]),H=(0,a.Z)(B,2),I=(H[0],H[1],(0,x.useState)([])),O=(0,a.Z)(I,2),q=(O[0],O[1]),E=(0,x.useState)(!1),Y=(0,a.Z)(E,2),J=Y[0],Q=Y[1],U=(0,M.Ds)(),ee=(0,x.useState)(),ne=(0,a.Z)(ee,2),te=ne[0],re=ne[1],oe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Q(!0),e.next=4,Promise.all([Z(t,F,P)]);case 4:n=e.sent,r=(0,a.Z)(n,1),i=r[0],q(i),re(i.logData),_(i.rowCount),Q(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),U.error(e.t0.message),Q(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();function ie(e){var n=e.value,t=x.useState(!1),r=(0,a.Z)(t,2),o=r[0],i=r[1];return(0,K.jsxs)("div",{children:[o?n:n.slice(0,200),"\xa0",n.length>200&&(0,K.jsx)(X,{type:"button",component:"button",sx:{fontSize:"inherit"},onClick:function(){return i(!o)},children:o?"view less":"view more"})]})}(0,x.useEffect)((function(){oe()}),[F,P,t]);var ae=[{field:"title",headerName:"Title",align:"left"},{field:"description",headerName:"Description",flex:1,minWidth:200,headerAlign:"center",align:"left",renderCell:function(e){return(0,K.jsx)(ie,(0,r.Z)({},e))}},{field:"date",headerName:"Log Time",headerAlign:"center",align:"left",valueGetter:function(e){var n=new Date(e.row.date),t=n.getHours(),r=n.getMinutes(),o=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+((r=r<10?0+r:r)<10?"0":"")+r+" "+o}}],se=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,K.jsxs)(x.Fragment,{children:[(0,K.jsx)(f.Z,{children:(0,K.jsx)(g.Z,{title:"Logs List"})}),(0,K.jsx)(s.Z,{container:!0,spacing:2,children:(0,K.jsxs)(s.Z,{item:!0,sm:6,sx:{marginLeft:"10px"},children:[(0,K.jsx)(v.Z,{label:"Date",onChange:function(e){return se(e)},disableFuture:!0,inputFormat:"dd/MM/yyyy",value:t,renderInput:function(e){return(0,K.jsx)(c.Z,(0,r.Z)((0,r.Z)({},e),{},{id:"date",margin:"normal",name:"start"}))}}),(0,K.jsx)(b.Z,{sx:{marginLeft:"10px",marginTop:"15px",width:"fit-content"},loading:J,onClick:oe,children:(0,K.jsx)($.Z,{})})]})}),(0,K.jsx)(u.Z,{sx:{width:"100%",marginTop:"10px",marginBottom:"10px"},children:J&&(0,K.jsx)(h.Z,{})}),(0,K.jsx)(s.Z,{container:!0,spacing:2,children:(0,K.jsx)(s.Z,{item:!0,sm:12,sx:{paddingLeft:"20px !important"},children:(0,K.jsx)(l.Z,{variant:"outlined",sx:{padding:"20px"},children:(0,K.jsx)(d.Z,{sx:{padding:"10px !important"},children:J?(0,K.jsx)(p.Z,{animation:"wave"}):(0,K.jsx)(u.Z,{sx:{height:"580px",width:"100%","& .super-app-theme--cell":{backgroundColor:"rgba(224, 183, 60, 0.55)",color:"#1a3e72",fontWeight:"600"},"& .super-app.negative":{backgroundColor:"#d47483",fontWeight:"600"},"& .super-app.positive":{backgroundColor:"rgba(157, 255, 118, 0.49)",fontWeight:"600"}},children:te&&0!==te.length?(0,K.jsx)(D._,{sx:{"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:1},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:3}},rows:te,columns:ae,components:{Toolbar:function(){return(0,K.jsxs)(y.D,{sx:{padding:"1px"},children:[(0,K.jsx)(w.S,{sx:{padding:"14px"},onResize:void 0,nonce:void 0,onResizeCapture:void 0}),(0,K.jsx)(j.M,{sx:{padding:"14px"},onResize:void 0,nonce:void 0,onResizeCapture:void 0}),(0,K.jsx)(C.L,{sx:{padding:"14px"},onResize:void 0,nonce:void 0,onResizeCapture:void 0}),(0,K.jsx)(S.Zh,{sx:{padding:"14px"}})]})}},getRowHeight:function(){return"auto"},pagination:!0,paginationMode:"server",pageSize:P,rowCount:V,page:F-1,onPageChange:function(e){L(e+1)},onPageSizeChange:function(e){L(1),T(e)},getRowId:function(e){return e._id},rowsPerPageOptions:[5,10,20,50,100]}):(0,K.jsx)(k.Z,{title:"No Data Found"})})})})})})]})}}}]);
//# sourceMappingURL=131.bf24e1d7.chunk.js.map