{"version":3,"file":"static/js/680.087d0127.chunk.js","mappings":"mOAaA,MA0EA,EA1EsBA,KACpB,MAAOC,EAAqBC,GAA0BC,EAAAA,SAAe,KAC9DC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAgB,KAC7CC,EAAUC,IAAcF,EAAAA,EAAAA,UAAS,IACjCG,EAAWC,IAAeJ,EAAAA,EAAAA,UAAS,GAkC1C,OA5BAK,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAK,IAAIC,UAAU,uBAwBzB,OAtBAD,EAAGE,UAAaC,IACd,IAAIC,EAAOC,KAAKC,MAAMH,EAAMC,MAC5BX,GAAec,IACbH,EAAKI,IAAIC,mBAAqB,IAAIC,KAAKC,OAAOP,EAAKI,IAAIC,qBAAqBG,eAC1E,QACA,CAAEC,SAAU,iBAEdT,EAAKU,IAAIL,mBAAqB,IAAIC,KAAKC,OAAOP,EAAKU,IAAIL,qBAAqBG,eAC1E,QACA,CAAEC,SAAU,iBAEdjB,EAAYmB,YAAaX,EAAKY,MAAMC,kBAAmB,KAAKC,QAAQ,KACpEpB,EAAaiB,YAAaX,EAAKe,OAAOF,kBAAmB,KAAKC,QAAQ,KAItE,MAAO,IAHaX,EAASa,QAC1BC,GAAcA,EAAKC,QAAUlB,EAAKkB,QAEblB,EAAK,GAC7B,EAGJJ,EAAGuB,QAAU,IAAMC,QAAQC,IAAI,0BAExB,IAAMzB,EAAG0B,OAAO,GACtB,KAGDC,EAAAA,EAAAA,MAACpC,EAAAA,SAAc,CAAAqC,SAAA,EACbC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAAAF,UACVC,EAAAA,EAAAA,KAACE,EAAAA,EAAY,CAACC,MAAO,sBAEvBH,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,WAAS,EAACC,QAAS,EAAEP,UACzBC,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACZ,MAAI,EAACe,GAAI,GAAIC,GAAI,CAAEC,QAAS,WAAYV,UAC5CD,EAAAA,EAAAA,MAACY,EAAAA,EAAS,CACRF,GAAI,CACFG,WAAY,OACZC,UAAW,OAEXC,MAAO,SAETC,OAAO,SACPC,WAAS,EACTC,QAAM,EACNC,MAAO,gBACPC,KAAK,SACLC,MAAO3D,EACP4D,SApDmB9C,IAC3Bb,EAAuBa,EAAM+C,OAAOF,MAAM,EAmDJpB,SAAA,EAE9BC,EAAAA,EAAAA,KAACsB,EAAAA,EAAQ,CAACH,MAAO,GAAGpB,SAAC,UACrBD,EAAAA,EAAAA,MAACwB,EAAAA,EAAQ,CAAgBH,MAAO,SAASpB,SAAA,CACtC,SAAS,QAAMC,EAAAA,EAAAA,KAAA,QAAAD,SAAO/B,MADV,WAGf8B,EAAAA,EAAAA,MAACwB,EAAAA,EAAQ,CAAeH,MAAO,QAAQpB,SAAA,CACpC,QAAQ,QAAMC,EAAAA,EAAAA,KAAA,QAAAD,SAAOjC,MADT,kBAMN,C","sources":["nfo/pages/basketTrading.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport AdminAppBar from \"../../admin/components/AdminAppBar\";\r\nimport AdminToolbar from \"../../admin/components/AdminToolbar\";\r\nimport {\r\n  FormControlLabel,\r\n  Grid,\r\n  MenuItem,\r\n  Switch,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport LiveMarketData from \"../components/LiverMarketData\";\r\nimport { set } from \"date-fns\";\r\n\r\nconst BasketTrading = () => {\r\n  const [selectedIndexOption, setSelectedIndexOption] = React.useState(\"\");\r\n  const [marketData, setMarketData] = useState<any[]>([]);\r\n  const [niftyLTP, setNiftyLTP]= useState(0);\r\n  const [sensexLTP, setSensexLTP]= useState(0);\r\n\r\n  const onIndexOptionChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSelectedIndexOption(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ws = new WebSocket(\"ws://localhost:5000\");\r\n\r\n    ws.onmessage = (event) => {\r\n      let data = JSON.parse(event.data);\r\n      setMarketData((prevData) => {\r\n        data.nse.exchange_timestamp = new Date(Number(data.nse.exchange_timestamp)).toLocaleString(\r\n          \"en-IN\",\r\n          { timeZone: \"Asia/Kolkata\" }\r\n        );\r\n        data.bse.exchange_timestamp = new Date(Number(data.bse.exchange_timestamp)).toLocaleString(\r\n          \"en-IN\",\r\n          { timeZone: \"Asia/Kolkata\" }\r\n        );\r\n        setNiftyLTP(parseFloat(((data.nifty.last_traded_price)/100).toFixed(2)));\r\n        setSensexLTP(parseFloat(((data.sensex.last_traded_price)/100).toFixed(2)));\r\n        const updatedData = prevData.filter(\r\n          (item: any) => item.index !== data.index\r\n        );\r\n        return [...updatedData, data];\r\n      });\r\n    };\r\n\r\n    ws.onclose = () => console.log(\"WebSocket disconnected\");\r\n\r\n    return () => ws.close();\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <AdminAppBar>\r\n        <AdminToolbar title={\"Basket Trading\"}></AdminToolbar>\r\n      </AdminAppBar>\r\n      <Grid container spacing={4}>\r\n        <Grid item sm={12} sx={{ display: \"content\" }}>\r\n          <TextField\r\n            sx={{\r\n              marginLeft: \"10px\",\r\n              marginTop: \"15px\",\r\n\r\n              width: \"250px\",\r\n            }}\r\n            margin=\"normal\"\r\n            fullWidth\r\n            select\r\n            label={\"Select Option\"}\r\n            name=\"expiry\"\r\n            value={selectedIndexOption}\r\n            onChange={onIndexOptionChange}\r\n          >\r\n            <MenuItem value={\"\"}>None</MenuItem>\r\n            <MenuItem key={\"842068\"} value={\"sensex\"}>\r\n              {`SENSEX`}&nbsp;<span>{sensexLTP}</span>\r\n            </MenuItem>\r\n            <MenuItem key={\"35001\"} value={\"nifty\"}>\r\n              {`NIFTY`}&nbsp;<span>{niftyLTP}</span>\r\n            </MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default BasketTrading;\r\n"],"names":["BasketTrading","selectedIndexOption","setSelectedIndexOption","React","marketData","setMarketData","useState","niftyLTP","setNiftyLTP","sensexLTP","setSensexLTP","useEffect","ws","WebSocket","onmessage","event","data","JSON","parse","prevData","nse","exchange_timestamp","Date","Number","toLocaleString","timeZone","bse","parseFloat","nifty","last_traded_price","toFixed","sensex","filter","item","index","onclose","console","log","close","_jsxs","children","_jsx","AdminAppBar","AdminToolbar","title","Grid","container","spacing","sm","sx","display","TextField","marginLeft","marginTop","width","margin","fullWidth","select","label","name","value","onChange","target","MenuItem"],"sourceRoot":""}