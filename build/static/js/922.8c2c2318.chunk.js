"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[922],{59517:(e,r,t)=>{t.d(r,{A:()=>b});var o=t(87731),a=t(18863),n=t(23599),i=t(27494),l=t(48073),s=t(41835),d=t(53566),c=t(90066),p=t(65043),u=t(53730),g=t(68987),h=t(56763),x=t(48824),m=t(34562),A=t(86971),v=t(70579);const b=e=>{let{children:r}=e;const t=(0,s.A)(),[b,f]=(0,p.useState)(!1),{logout:w,userInfo:j}=(0,x.As)(),C=(0,m.dh)(),S=localStorage.getItem("authkey"),y=()=>{f(!b)};return(0,v.jsxs)(p.Fragment,{children:[(0,v.jsx)(i.A,{styles:{body:{backgroundColor:t.palette.background.paper}}}),(0,v.jsx)(o.A,{color:"transparent",position:"relative",children:(0,v.jsxs)(d.A,{children:[(0,v.jsx)(a.A,{sx:{flexGrow:1}}),""!=S&&(0,v.jsx)(l.A,{"aria-label":"logout",component:"span",onClick:()=>{w().then((()=>{A.C5})).catch((e=>C.error(e)))},children:(0,v.jsx)(h.A,{})}),(0,v.jsx)(l.A,{"aria-label":"settings",component:"span",onClick:y,children:(0,v.jsx)(c.A,{})})]})}),(0,v.jsx)(n.A,{component:"main",maxWidth:"xs",sx:{mt:6},children:(0,v.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,v.jsx)(u.A,{sx:{mb:2}}),r,(0,v.jsx)(a.A,{children:(0,v.jsx)(g.A,{onDrawerToggle:y,open:b})})]})})]})}},68987:(e,r,t)=>{t.d(r,{A:()=>v});var o=t(18863),a=t(77504),n=t(64312),i=t(34552),l=t(48073),s=t(63274),d=t(69175),c=t(71306),p=t(4193),u=t(56172),g=t(83903),h=t(95957),x=t(81653),m=t(17771),A=t(70579);const v=e=>{let{onDrawerToggle:r,open:t}=e;const{changeCollapsed:v,changeDirection:b,changeMode:f,collapsed:w,direction:j,mode:C}=(0,m.t0)(),{i18n:S,t:y}=(0,h.B)();return(0,A.jsxs)(a.Ay,{anchor:"left",open:t,onClose:r,sx:{"& .MuiDrawer-paper":{width:x.Y}},variant:"temporary",children:[(0,A.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,A.jsx)(u.A,{variant:"h5",children:y("settings.drawer.title")}),(0,A.jsx)(l.A,{color:"inherit",onClick:r,edge:"end",children:(0,A.jsx)(g.A,{})})]}),(0,A.jsxs)(o.A,{sx:{pl:2,pr:2},children:[(0,A.jsx)(u.A,{gutterBottom:!0,id:"settings-language",marginTop:3,variant:"h6",children:y("settings.drawer.language.label")}),(0,A.jsx)(n.A,{children:(0,A.jsxs)(d.A,{"aria-label":"language",name:"language-radio-group",onChange:e=>{S.changeLanguage(e.target.value)},value:S.language,children:[(0,A.jsx)(i.A,{value:"en",control:(0,A.jsx)(s.A,{}),label:y("settings.drawer.language.options.en")}),(0,A.jsx)(i.A,{value:"fr",control:(0,A.jsx)(s.A,{}),label:y("settings.drawer.language.options.fr")})]})}),(0,A.jsx)(u.A,{gutterBottom:!0,id:"settings-mode",marginTop:3,variant:"h6",children:y("settings.drawer.mode.label")}),(0,A.jsxs)(p.A,{color:"primary",value:C,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{f(r)},children:[(0,A.jsx)(c.A,{value:"light",children:y("settings.drawer.mode.options.light")}),(0,A.jsx)(c.A,{value:"dark",children:y("settings.drawer.mode.options.dark")})]}),(0,A.jsx)(u.A,{gutterBottom:!0,id:"settings-mode",marginTop:3,variant:"h6",children:y("settings.drawer.direction.label")}),(0,A.jsxs)(p.A,{color:"primary",value:j,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{b(r)},children:[(0,A.jsx)(c.A,{value:"ltr",children:y("settings.drawer.direction.options.ltr")}),(0,A.jsx)(c.A,{value:"rtl",children:y("settings.drawer.direction.options.rtl")})]}),(0,A.jsx)(u.A,{gutterBottom:!0,id:"settings-sidebar",marginTop:3,variant:"h6",children:y("settings.drawer.sidebar.label")}),(0,A.jsxs)(p.A,{color:"primary",value:w,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{v(r)},children:[(0,A.jsx)(c.A,{value:!0,children:y("settings.drawer.sidebar.options.collapsed")}),(0,A.jsx)(c.A,{value:!1,children:y("settings.drawer.sidebar.options.full")})]})]})]})}},73922:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ne});var o=t(18863),a=t(18599),n=t(54),i=t(42445),l=t(43613),s=t(56172),d=t(90637),c=t(98587),p=t(58168),u=t(65043),g=t(43024),h=t(98610),x=t(5844),m=t(6803),A=t(62066),v=t(56258),b=t(63336),f=t(61070),w=t(35658),j=t(92532),C=t(72372);function S(e){return(0,C.Ay)("MuiDialog",e)}const y=(0,j.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const k=(0,u.createContext)({});var W=t(12220),D=t(26240),B=t(70579);const M=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],T=(0,w.Ay)(W.A,{name:"MuiDialog",slot:"Backdrop",overrides:(e,r)=>r.backdrop})({zIndex:-1}),P=(0,w.Ay)(A.A,{name:"MuiDialog",slot:"Root",overridesResolver:(e,r)=>r.root})({"@media print":{position:"absolute !important"}}),R=(0,w.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.container,r[`scroll${(0,m.A)(t.scroll)}`]]}})((e=>{let{ownerState:r}=e;return(0,p.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===r.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===r.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),I=(0,w.Ay)(b.A,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`scrollPaper${(0,m.A)(t.scroll)}`],r[`paperWidth${(0,m.A)(String(t.maxWidth))}`],t.fullWidth&&r.paperFullWidth,t.fullScreen&&r.paperFullScreen]}})((e=>{let{theme:r,ownerState:t}=e;return(0,p.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===r.breakpoints.unit?Math.max(r.breakpoints.values.xs,444):`${r.breakpoints.values.xs}${r.breakpoints.unit}`,[`&.${y.paperScrollBody}`]:{[r.breakpoints.down(Math.max(r.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${r.breakpoints.values[t.maxWidth]}${r.breakpoints.unit}`,[`&.${y.paperScrollBody}`]:{[r.breakpoints.down(r.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${y.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),N=u.forwardRef((function(e,r){const t=(0,f.A)({props:e,name:"MuiDialog"}),o=(0,D.A)(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":n,"aria-labelledby":i,BackdropComponent:l,BackdropProps:s,children:d,className:A,disableEscapeKeyDown:w=!1,fullScreen:j=!1,fullWidth:C=!1,maxWidth:y="sm",onBackdropClick:W,onClose:N,open:$,PaperComponent:O=b.A,PaperProps:q={},scroll:F="paper",TransitionComponent:Y=v.A,transitionDuration:E=a,TransitionProps:L}=t,z=(0,c.A)(t,M),K=(0,p.A)({},t,{disableEscapeKeyDown:w,fullScreen:j,fullWidth:C,maxWidth:y,scroll:F}),_=(e=>{const{classes:r,scroll:t,maxWidth:o,fullWidth:a,fullScreen:n}=e,i={root:["root"],container:["container",`scroll${(0,m.A)(t)}`],paper:["paper",`paperScroll${(0,m.A)(t)}`,`paperWidth${(0,m.A)(String(o))}`,a&&"paperFullWidth",n&&"paperFullScreen"]};return(0,h.A)(i,S,r)})(K),X=u.useRef(),H=(0,x.A)(i),V=u.useMemo((()=>({titleId:H})),[H]);return(0,B.jsx)(P,(0,p.A)({className:(0,g.A)(_.root,A),closeAfterTransition:!0,components:{Backdrop:T},componentsProps:{backdrop:(0,p.A)({transitionDuration:E,as:l},s)},disableEscapeKeyDown:w,onClose:N,open:$,ref:r,onClick:e=>{X.current&&(X.current=null,W&&W(e),N&&N(e,"backdropClick"))},ownerState:K},z,{children:(0,B.jsx)(Y,(0,p.A)({appear:!0,in:$,timeout:E,role:"presentation"},L,{children:(0,B.jsx)(R,{className:(0,g.A)(_.container),onMouseDown:e=>{X.current=e.target===e.currentTarget},ownerState:K,children:(0,B.jsx)(I,(0,p.A)({as:O,elevation:24,role:"dialog","aria-describedby":n,"aria-labelledby":H},q,{className:(0,g.A)(_.paper,q.className),ownerState:K,children:(0,B.jsx)(k.Provider,{value:V,children:d})}))})}))}))}));var $=t(85865);function O(e){return(0,C.Ay)("MuiDialogTitle",e)}const q=(0,j.A)("MuiDialogTitle",["root"]),F=["className","id"],Y=(0,w.Ay)($.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),E=u.forwardRef((function(e,r){const t=(0,f.A)({props:e,name:"MuiDialogTitle"}),{className:o,id:a}=t,n=(0,c.A)(t,F),i=t,l=(e=>{const{classes:r}=e;return(0,h.A)({root:["root"]},O,r)})(i),{titleId:s=a}=u.useContext(k);return(0,B.jsx)(Y,(0,p.A)({component:"h2",className:(0,g.A)(l.root,o),ownerState:i,ref:r,variant:"h6",id:s},n))}));function L(e){return(0,C.Ay)("MuiDialogContent",e)}(0,j.A)("MuiDialogContent",["root","dividers"]);const z=["className","dividers"],K=(0,w.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.dividers&&r.dividers]}})((e=>{let{theme:r,ownerState:t}=e;return(0,p.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(r.vars||r).palette.divider}`,borderBottom:`1px solid ${(r.vars||r).palette.divider}`}:{[`.${q.root} + &`]:{paddingTop:0}})})),_=u.forwardRef((function(e,r){const t=(0,f.A)({props:e,name:"MuiDialogContent"}),{className:o,dividers:a=!1}=t,n=(0,c.A)(t,z),i=(0,p.A)({},t,{dividers:a}),l=(e=>{const{classes:r,dividers:t}=e,o={root:["root",t&&"dividers"]};return(0,h.A)(o,L,r)})(i);return(0,B.jsx)(K,(0,p.A)({className:(0,g.A)(l.root,o),ownerState:i,ref:r},n))}));function X(e){return(0,C.Ay)("MuiDialogActions",e)}(0,j.A)("MuiDialogActions",["root","spacing"]);const H=["className","disableSpacing"],V=(0,w.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,!t.disableSpacing&&r.spacing]}})((e=>{let{ownerState:r}=e;return(0,p.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),G=u.forwardRef((function(e,r){const t=(0,f.A)({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:a=!1}=t,n=(0,c.A)(t,H),i=(0,p.A)({},t,{disableSpacing:a}),l=(e=>{const{classes:r,disableSpacing:t}=e,o={root:["root",!t&&"spacing"]};return(0,h.A)(o,X,r)})(i);return(0,B.jsx)(V,(0,p.A)({className:(0,g.A)(l.root,o),ownerState:i,ref:r},n))}));var Z=t(63516),J=t(86971),Q=t(73033),U=t(59517),ee=t(34562),re=t(48824),te=t(41028),oe=t(51425),ae=t(34747);const ne=()=>{const e=(0,J.Zp)(),[r,t]=(0,u.useState)(!1),[c,p]=(0,u.useState)(!1),g=(0,ee.dh)(),{isAngelbrokingLoggingIn:h,angelBrokingLogin:x}=(0,re.As)(),[m,A]=(0,u.useState)(!1);(0,oe.$)();(0,u.useEffect)((()=>{const r=localStorage.getItem("authkey");""!==r&&null!==r?f():e("/",{replace:!0})}),[]);const v=(0,Z.Wx)({initialValues:{clientCode:localStorage.getItem("clientId"),password:localStorage.getItem("pinNumber"),tOtp:""},validationSchema:Q.Ik({clientCode:Q.Yj().required("Required"),password:Q.Yj().required("Required"),tOtp:Q.Yj().required("Required")}),onSubmit:e=>{return r=e.clientCode,t=e.password,o=e.tOtp,void x(r,t,o).then((e=>{null!==e&&void 0!==e&&e.status?(g.success(e.message),A(e.status),window.localStorage.setItem("angelBrokingStatus",e.status)):g.error(e.message)})).catch((()=>g.error("Error")));var r,t,o}}),b=()=>{t(!1)},f=async()=>{try{const[e]=await Promise.all([(0,ae.p)()]);A(e.status),window.localStorage.setItem("angelBrokingStatus",e.status)}catch(e){g.error(e.message)}};return(0,B.jsxs)(n.A,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,B.jsxs)(N,{open:r,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,B.jsx)(E,{children:"Angle Broking Connection Status"}),(0,B.jsxs)(_,{sx:{width:"300px",height:"100px",display:"contents"},children:[m?(0,B.jsx)(te.gC,{color:"success",sx:{fontSize:"70px",display:"block",margin:"auto"}}):(0,B.jsx)(te.yd,{color:"error",sx:{fontSize:"70px",display:"block",margin:"auto"}}),(0,B.jsxs)(s.A,{sx:{display:"table-cell",textAlign:"center"},children:[m?"Connected":"Not Connected"," "]})]}),(0,B.jsx)(G,{children:(0,B.jsx)(a.A,{variant:"outlined",onClick:b,children:"Close"})})]}),(0,B.jsx)(n.A,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(./img/startup.svg)",backgroundRepeat:"no-repeat",bgcolor:"background.default",backgroundSize:"cover",backgroundPosition:"center"}}),(0,B.jsx)(n.A,{item:!0,xs:12,sm:8,md:5,component:i.A,square:!0,children:(0,B.jsxs)(U.A,{children:[(0,B.jsx)(s.A,{component:"h1",variant:"h5",children:"Angel Broking Authentication"}),(0,B.jsxs)(o.A,{component:"form",marginTop:3,noValidate:!0,onSubmit:v.handleSubmit,children:[(0,B.jsx)(l.A,{margin:"normal",variant:"filled",required:!0,fullWidth:!0,id:"clientCode",value:v.values.clientCode,onChange:v.handleChange,label:"Client Code",name:"clientCode",disabled:h,error:v.touched.clientCode&&Boolean(v.errors.clientCode),helperText:v.touched.clientCode&&v.errors.clientCode}),(0,B.jsx)(l.A,{margin:"normal",variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",disabled:h,value:v.values.password,onChange:v.handleChange,error:v.touched.password&&Boolean(v.errors.password),helperText:v.touched.password&&v.errors.password}),(0,B.jsx)(l.A,{margin:"normal",variant:"filled",required:!0,fullWidth:!0,name:"tOtp",label:"T-OTP",type:"numeric",id:"tOtp",disabled:h,value:v.values.tOtp,onChange:v.handleChange,error:v.touched.tOtp&&Boolean(v.errors.tOtp),helperText:v.touched.tOtp&&v.errors.tOtp}),(0,B.jsx)(d.A,{type:"submit",fullWidth:!0,loading:h,variant:"contained",sx:{mt:3},children:"Submit"}),(0,B.jsx)(a.A,{variant:"outlined",onClick:()=>e(-1),sx:{mt:3},children:"Back"}),(0,B.jsx)(d.A,{loading:c,variant:"outlined",onClick:async()=>{f(),t(!0)},sx:{mt:3,ml:2},children:"Check Status"})]})]})})]})}}}]);
//# sourceMappingURL=922.8c2c2318.chunk.js.map