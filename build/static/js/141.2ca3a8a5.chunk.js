"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[141],{53141:(e,r,o)=>{o.r(r),o.d(r,{default:()=>f});var s=o(18863),a=o(18599),n=o(43613),t=o(56172),i=o(90637),l=o(63516),d=o(95957),c=o(86971),u=o(51318),h=o(73033),g=o(59517),m=o(34562),w=o(35975),x=o(82907);const p=async e=>{let{code:r,newPassword:o}=e;const{data:s}=await w.A.post("/api/forgot-password-submit",{code:r,newPassword:o});return s};function A(){const{isLoading:e,mutateAsync:r}=(0,x.useMutation)(p);return{isLoading:e,forgotPasswordSubmit:r}}var j=o(70579);const f=()=>{const e=(0,c.Zp)(),r=(0,m.dh)(),{t:o}=(0,d.B)(),{forgotPasswordSubmit:w,isLoading:x}=A(),p=(0,l.Wx)({initialValues:{code:"",newPassword:"",confirmPassword:""},validationSchema:h.Ik({code:h.Yj().required(o("common.validations.required")),newPassword:h.Yj().required(o("common.validations.required")),confirmPassword:h.Yj().required(o("common.validations.required"))}),onSubmit:e=>{let{code:r,newPassword:o}=e;return f(r,o)}}),f=async(s,a)=>{w({code:s,newPassword:a}).then((()=>{r.success(o("auth.forgotPasswordSubmit.notifications.success")),e("//login")})).catch((()=>{r.error(o("common.errors.unexpected.subTitle"))}))};return(0,j.jsxs)(g.A,{children:[(0,j.jsx)(t.A,{component:"h1",variant:"h5",children:o("auth.forgotPasswordSubmit.title")}),(0,j.jsx)(t.A,{marginTop:3,children:o("auth.forgotPasswordSubmit.subTitle")}),(0,j.jsxs)(s.A,{component:"form",marginTop:3,noValidate:!0,onSubmit:p.handleSubmit,children:[(0,j.jsx)(n.A,{margin:"normal",required:!0,fullWidth:!0,id:"code",label:o("auth.forgotPasswordSubmit.form.code.label"),name:"code",autoFocus:!0,disabled:x,value:p.values.code,onChange:p.handleChange,error:p.touched.code&&Boolean(p.errors.code),helperText:p.touched.code&&p.errors.code}),(0,j.jsx)(n.A,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:o("auth.forgotPasswordSubmit.form.newPassword.label"),type:"password",id:"newPassword",disabled:x,value:p.values.newPassword,onChange:p.handleChange,error:p.touched.newPassword&&Boolean(p.errors.newPassword),helperText:p.touched.newPassword&&p.errors.newPassword}),(0,j.jsx)(n.A,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:o("auth.forgotPasswordSubmit.form.confirmPassword.label"),type:"password",id:"confirmPassword",disabled:x,value:p.values.confirmPassword,onChange:p.handleChange,error:p.touched.confirmPassword&&Boolean(p.errors.confirmPassword),helperText:p.touched.confirmPassword&&p.errors.confirmPassword}),(0,j.jsx)(i.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:x,loading:x,sx:{mt:2},children:o("auth.forgotPasswordSubmit.form.action")}),(0,j.jsx)(a.A,{component:u.N_,to:"//login",color:"primary",fullWidth:!0,sx:{mt:2},children:o("auth.forgotPasswordSubmit.form.back")})]})]})}},59517:(e,r,o)=>{o.d(r,{A:()=>j});var s=o(87731),a=o(18863),n=o(23599),t=o(27494),i=o(48073),l=o(41835),d=o(53566),c=o(90066),u=o(65043),h=o(53730),g=o(68987),m=o(56763),w=o(48824),x=o(34562),p=o(86971),A=o(70579);const j=e=>{let{children:r}=e;const o=(0,l.A)(),[j,f]=(0,u.useState)(!1),{logout:b,userInfo:v}=(0,w.As)(),P=(0,x.dh)(),C=localStorage.getItem("authkey"),y=()=>{f(!j)};return(0,A.jsxs)(u.Fragment,{children:[(0,A.jsx)(t.A,{styles:{body:{backgroundColor:o.palette.background.paper}}}),(0,A.jsx)(s.A,{color:"transparent",position:"relative",children:(0,A.jsxs)(d.A,{children:[(0,A.jsx)(a.A,{sx:{flexGrow:1}}),""!=C&&(0,A.jsx)(i.A,{"aria-label":"logout",component:"span",onClick:()=>{b().then((()=>{p.C5})).catch((e=>P.error(e)))},children:(0,A.jsx)(m.A,{})}),(0,A.jsx)(i.A,{"aria-label":"settings",component:"span",onClick:y,children:(0,A.jsx)(c.A,{})})]})}),(0,A.jsx)(n.A,{component:"main",maxWidth:"xs",sx:{mt:6},children:(0,A.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,A.jsx)(h.A,{sx:{mb:2}}),r,(0,A.jsx)(a.A,{children:(0,A.jsx)(g.A,{onDrawerToggle:y,open:j})})]})})]})}},68987:(e,r,o)=>{o.d(r,{A:()=>A});var s=o(18863),a=o(77504),n=o(64312),t=o(34552),i=o(48073),l=o(63274),d=o(69175),c=o(71306),u=o(4193),h=o(56172),g=o(83903),m=o(95957),w=o(81653),x=o(17771),p=o(70579);const A=e=>{let{onDrawerToggle:r,open:o}=e;const{changeCollapsed:A,changeDirection:j,changeMode:f,collapsed:b,direction:v,mode:P}=(0,x.t0)(),{i18n:C,t:y}=(0,m.B)();return(0,p.jsxs)(a.Ay,{anchor:"left",open:o,onClose:r,sx:{"& .MuiDrawer-paper":{width:w.Y}},variant:"temporary",children:[(0,p.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,p.jsx)(h.A,{variant:"h5",children:y("settings.drawer.title")}),(0,p.jsx)(i.A,{color:"inherit",onClick:r,edge:"end",children:(0,p.jsx)(g.A,{})})]}),(0,p.jsxs)(s.A,{sx:{pl:2,pr:2},children:[(0,p.jsx)(h.A,{gutterBottom:!0,id:"settings-language",marginTop:3,variant:"h6",children:y("settings.drawer.language.label")}),(0,p.jsx)(n.A,{children:(0,p.jsxs)(d.A,{"aria-label":"language",name:"language-radio-group",onChange:e=>{C.changeLanguage(e.target.value)},value:C.language,children:[(0,p.jsx)(t.A,{value:"en",control:(0,p.jsx)(l.A,{}),label:y("settings.drawer.language.options.en")}),(0,p.jsx)(t.A,{value:"fr",control:(0,p.jsx)(l.A,{}),label:y("settings.drawer.language.options.fr")})]})}),(0,p.jsx)(h.A,{gutterBottom:!0,id:"settings-mode",marginTop:3,variant:"h6",children:y("settings.drawer.mode.label")}),(0,p.jsxs)(u.A,{color:"primary",value:P,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{f(r)},children:[(0,p.jsx)(c.A,{value:"light",children:y("settings.drawer.mode.options.light")}),(0,p.jsx)(c.A,{value:"dark",children:y("settings.drawer.mode.options.dark")})]}),(0,p.jsx)(h.A,{gutterBottom:!0,id:"settings-mode",marginTop:3,variant:"h6",children:y("settings.drawer.direction.label")}),(0,p.jsxs)(u.A,{color:"primary",value:v,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{j(r)},children:[(0,p.jsx)(c.A,{value:"ltr",children:y("settings.drawer.direction.options.ltr")}),(0,p.jsx)(c.A,{value:"rtl",children:y("settings.drawer.direction.options.rtl")})]}),(0,p.jsx)(h.A,{gutterBottom:!0,id:"settings-sidebar",marginTop:3,variant:"h6",children:y("settings.drawer.sidebar.label")}),(0,p.jsxs)(u.A,{color:"primary",value:b,exclusive:!0,fullWidth:!0,onChange:(e,r)=>{A(r)},children:[(0,p.jsx)(c.A,{value:!0,children:y("settings.drawer.sidebar.options.collapsed")}),(0,p.jsx)(c.A,{value:!1,children:y("settings.drawer.sidebar.options.full")})]})]})]})}}}]);
//# sourceMappingURL=141.2ca3a8a5.chunk.js.map