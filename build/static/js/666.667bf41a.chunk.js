"use strict";(self.webpackChunktred_code_portal=self.webpackChunktred_code_portal||[]).push([[666],{33666:function(e,r,a){a.r(r),a.d(r,{default:function(){return _}});var n=a(27166),i=a(18489),t=a(33032),o=a(14872),l=a(46087),s=a(52697),u=a(51233),c=a(11579),d=a(5068),m=a(31517),f=a(94327),p=a(61249),v=a(1573),h=a(35924),Z=a(24628),g=a(55705),b=a(56328),x=a(10030),N=a(82388),C=a(91933),j=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.Z.put("/api/profile-info",r);case 2:return a=e.sent,i=a.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function y(){var e=(0,C.useQueryClient)(),r=(0,C.useMutation)(j,{onSuccess:function(r){e.setQueryData(["profile-info"],r)}});return{isUpdating:r.isLoading,updateProfileInfo:r.mutateAsync}}var S=a(61028),w=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.Z.get("/api/profile-info");case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var q=a(80184),k=[{label:"profile.info.form.gender.options.f",value:"F"},{label:"profile.info.form.gender.options.m",value:"M"},{label:"profile.info.form.gender.options.n",value:"NC"}],_=function(){var e=(0,S.Ds)(),r=(0,b.$)().t,a=(0,C.useQuery)("profile-info",(function(){return w()})).data,N=y(),j=N.isUpdating,_=N.updateProfileInfo,A=(0,g.TA)({initialValues:{email:a?a.email:"",firstName:a?a.firstName:"",gender:a?a.gender:void 0,job:a?a.job:"",lastName:a?a.lastName:""},validationSchema:x.Ry({email:x.Z_().email(r("common.validations.email")).required(r("common.validations.required")),firstName:x.Z_().max(20,r("common.validations.max",{size:20})).required(r("common.validations.required")),lastName:x.Z_().max(30,r("common.validations.max",{size:30})).required(r("common.validations.required"))}),onSubmit:function(e){return M(e)}}),M=function(){var o=(0,t.Z)((0,n.Z)().mark((function t(o){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_((0,i.Z)((0,i.Z)({},o),{},{id:null===a||void 0===a?void 0:a.id})).then((function(){e.success(r("profile.notifications.informationUpdated"))})).catch((function(){e.error(r("common.errors.unexpected.subTitle"))}));case 1:case"end":return n.stop()}}),t)})));return function(e){return o.apply(this,arguments)}}();return(0,q.jsx)("form",{onSubmit:A.handleSubmit,noValidate:!0,children:(0,q.jsxs)(l.Z,{children:[(0,q.jsx)(c.Z,{title:r("profile.info.title")}),(0,q.jsxs)(u.Z,{children:[(0,q.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:r("profile.info.form.lastName.label"),name:"lastName",autoComplete:"family-name",autoFocus:!0,disabled:j,value:A.values.lastName,onChange:A.handleChange,error:A.touched.lastName&&Boolean(A.errors.lastName),helperText:A.touched.lastName&&A.errors.lastName}),(0,q.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:r("profile.info.form.firstName.label"),name:"firstName",autoComplete:"given-name",disabled:j,value:A.values.firstName,onChange:A.handleChange,error:A.touched.firstName&&Boolean(A.errors.firstName),helperText:A.touched.firstName&&A.errors.firstName}),(0,q.jsxs)(d.Z,{component:"fieldset",margin:"normal",children:[(0,q.jsx)(f.Z,{component:"legend",children:r("profile.info.form.gender.label")}),(0,q.jsx)(v.Z,{row:!0,"aria-label":"gender",name:"gender",value:A.values.gender,onChange:A.handleChange,children:k.map((function(e){return(0,q.jsx)(m.Z,{value:e.value,control:(0,q.jsx)(p.Z,{}),label:r(e.label)},e.value)}))})]}),(0,q.jsx)(h.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:r("profile.info.form.email.label"),name:"email",autoComplete:"email",disabled:j,value:A.values.email,onChange:A.handleChange,error:A.touched.email&&Boolean(A.errors.email),helperText:A.touched.email&&A.errors.email})]}),(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(o.Z,{onClick:function(){return A.resetForm()},children:r("common.reset")}),(0,q.jsx)(Z.Z,{loading:j,type:"submit",variant:"contained",children:r("common.update")})]})]})})}},52697:function(e,r,a){a.d(r,{Z:function(){return p}});var n=a(63366),i=a(87462),t=a(72791),o=a(28182),l=a(80163),s=a(67538),u=a(8186),c=a(34923);function d(e){return(0,c.Z)("MuiCardActions",e)}(0,a(50782).Z)("MuiCardActions",["root","spacing"]);var m=a(80184),f=(0,s.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,r){var a=e.styleProps;return(0,i.Z)({},r.root,!a.disableSpacing&&r.spacing)}})((function(e){var r=e.styleProps;return(0,i.Z)({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),p=t.forwardRef((function(e,r){var a=(0,u.Z)({props:e,name:"MuiCardActions"}),t=a.disableSpacing,s=void 0!==t&&t,c=a.className,p=(0,n.Z)(a,["disableSpacing","className"]),v=(0,i.Z)({},a,{disableSpacing:s}),h=function(e){var r=e.classes,a={root:["root",!e.disableSpacing&&"spacing"]};return(0,l.Z)(a,d,r)}(v);return(0,m.jsx)(f,(0,i.Z)({className:(0,o.Z)(h.root,c),styleProps:v,ref:r},p))}))}}]);
//# sourceMappingURL=666.667bf41a.chunk.js.map